                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.4.0 #14620 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module usb_tx
                                      6 	.optsdcc -mstm8
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _usb_tx
                                     12 ;--------------------------------------------------------
                                     13 ; ram data
                                     14 ;--------------------------------------------------------
                                     15 	.area DATA
      000001                         16 _tx_buf_size:
      000001                         17 	.ds 1
      000002                         18 _usb_tx_buf:
      000002                         19 	.ds 12
                                     20 ;--------------------------------------------------------
                                     21 ; ram data
                                     22 ;--------------------------------------------------------
                                     23 	.area INITIALIZED
                                     24 ;--------------------------------------------------------
                                     25 ; absolute external ram data
                                     26 ;--------------------------------------------------------
                                     27 	.area DABS (ABS)
                                     28 
                                     29 ; default segment ordering for linker
                                     30 	.area HOME
                                     31 	.area GSINIT
                                     32 	.area GSFINAL
                                     33 	.area CONST
                                     34 	.area INITIALIZER
                                     35 	.area CODE
                                     36 
                                     37 ;--------------------------------------------------------
                                     38 ; global & static initialisations
                                     39 ;--------------------------------------------------------
                                     40 	.area HOME
                                     41 	.area GSINIT
                                     42 	.area GSFINAL
                                     43 	.area GSINIT
                                     44 ;--------------------------------------------------------
                                     45 ; Home
                                     46 ;--------------------------------------------------------
                                     47 	.area HOME
                                     48 	.area HOME
                                     49 ;--------------------------------------------------------
                                     50 ; code
                                     51 ;--------------------------------------------------------
                                     52 	.area CODE
                                     53 ;	usb_tx.c: 6: void usb_tx(void)
                                     54 ;	-----------------------------------------
                                     55 ;	 function usb_tx
                                     56 ;	-----------------------------------------
      008033                         57 _usb_tx:
                                     58 ;	usb_tx.c: 269: __endasm;
      008033 3B 00 01         [ 1]   59 	push	_tx_buf_size
      008036 3B 00 02         [ 1]   60 	push	_usb_tx_buf+0
      008039 3B 00 03         [ 1]   61 	push	_usb_tx_buf+1
      00803C 3B 00 04         [ 1]   62 	push	_usb_tx_buf+2
      00803F 3B 00 05         [ 1]   63 	push	_usb_tx_buf+3
      008042 3B 00 06         [ 1]   64 	push	_usb_tx_buf+4
      008045 3B 00 07         [ 1]   65 	push	_usb_tx_buf+5
      008048 3B 00 08         [ 1]   66 	push	_usb_tx_buf+6
      00804B 3B 00 09         [ 1]   67 	push	_usb_tx_buf+7
      00804E 3B 00 0A         [ 1]   68 	push	_usb_tx_buf+8
      008051 3B 00 0B         [ 1]   69 	push	_usb_tx_buf+9
      008054 3B 00 0C         [ 1]   70 	push	_usb_tx_buf+10
      008057 3B 00 0D         [ 1]   71 	push	_usb_tx_buf+11
      00805A                         72 Tx_Bit0_0:
      00805A 76               [ 1]   73 	rrc	(X)
      00805B 25 0B            [ 1]   74 	jrc	Tx_Bit0_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1
      00805D 72 53 50 0A      [ 1]   75 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      008061 A6 06            [ 1]   76 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008063 9D               [ 1]   77 	nop
      008064 9D               [ 1]   78 	nop
      008065 CC 80 7B         [ 2]   79 	jp	Tx_Bit1_0; 2
      008068                         80 Tx_Bit0_1:
      008068 4A               [ 1]   81 	dec	a;\U0000524d\U00004e00\U00004f4d\U00007684\U00007b2c10\U00004e2a\U00005468\U0000671f
      008069 9D               [ 1]   82 	nop
      00806A 9D               [ 1]   83 	nop
      00806B 26 0E            [ 1]   84 	jrne	Tx_Bit1_0;a\U000051cf\U00004e86\U00004e4b\U0000540e\U00004e0d\U00007b49\U00004e8e0\U0000ff0c\U00005c31\U00008df32\U0000ff0c\U00007b49\U00004e8e\U000096f6 \U00004e0b\U00009762\U00004f4d\U000053cd\U00008f6c+\U00004f4d\U0000586b\U000051451
      00806D A6 06            [ 1]   85 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      00806F 9D               [ 1]   86 	nop
      008070 9D               [ 1]   87 	nop
                                     88 ;\U00005982\U0000679c\U00008fde\U00007eed\U000053d1\U00004e866\U00004f4d1\U0000ff0c\U00005219\U00009700\U00008981\U000053cd\U00008f6c\U000063d2\U00005165\U00004e00\U00004f4d
      008071 72 53 50 0A      [ 1]   89 	cpl	0x500A;
      008075 9D               [ 1]   90 	nop
      008076 9D               [ 1]   91 	nop
      008077 9D               [ 1]   92 	nop
      008078 CC 80 7B         [ 2]   93 	jp	Tx_Bit1_0;2
      00807B                         94 Tx_Bit1_0:
      00807B 76               [ 1]   95 	rrc	(X)
      00807C 25 0B            [ 1]   96 	jrc	Tx_Bit1_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1
      00807E 72 53 50 0A      [ 1]   97 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      008082 A6 06            [ 1]   98 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008084 9D               [ 1]   99 	nop
      008085 9D               [ 1]  100 	nop
      008086 CC 80 9C         [ 2]  101 	jp	Tx_Bit2_0; 2
      008089                        102 Tx_Bit1_1:
      008089 4A               [ 1]  103 	dec	a;\U0000524d\U00004e00\U00004f4d\U00007684\U00007b2c10\U00004e2a\U00005468\U0000671f
      00808A 9D               [ 1]  104 	nop
      00808B 9D               [ 1]  105 	nop
      00808C 26 0E            [ 1]  106 	jrne	Tx_Bit2_0;a\U000051cf\U00004e86\U00004e4b\U0000540e\U00004e0d\U00007b49\U00004e8e0\U0000ff0c\U00005c31\U00008df32\U0000ff0c\U00007b49\U00004e8e\U000096f6 \U00004e0b\U00009762\U00004f4d\U000053cd\U00008f6c+\U00004f4d\U0000586b\U000051451
      00808E A6 06            [ 1]  107 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008090 9D               [ 1]  108 	nop
      008091 9D               [ 1]  109 	nop
                                    110 ;\U00005982\U0000679c\U00008fde\U00007eed\U000053d1\U00004e866\U00004f4d1\U0000ff0c\U00005219\U00009700\U00008981\U000053cd\U00008f6c\U000063d2\U00005165\U00004e00\U00004f4d
      008092 72 53 50 0A      [ 1]  111 	cpl	0x500A;
      008096 9D               [ 1]  112 	nop
      008097 9D               [ 1]  113 	nop
      008098 9D               [ 1]  114 	nop
      008099 CC 80 9C         [ 2]  115 	jp	Tx_Bit2_0;2
      00809C                        116 Tx_Bit2_0:
      00809C 76               [ 1]  117 	rrc	(X)
      00809D 25 0B            [ 1]  118 	jrc	Tx_Bit2_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1
      00809F 72 53 50 0A      [ 1]  119 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      0080A3 A6 06            [ 1]  120 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      0080A5 9D               [ 1]  121 	nop
      0080A6 9D               [ 1]  122 	nop
      0080A7 CC 80 BD         [ 2]  123 	jp	Tx_Bit3_0; 2
      0080AA                        124 Tx_Bit2_1:
      0080AA 4A               [ 1]  125 	dec	a;\U0000524d\U00004e00\U00004f4d\U00007684\U00007b2c10\U00004e2a\U00005468\U0000671f
      0080AB 9D               [ 1]  126 	nop
      0080AC 9D               [ 1]  127 	nop
      0080AD 26 0E            [ 1]  128 	jrne	Tx_Bit3_0;a\U000051cf\U00004e86\U00004e4b\U0000540e\U00004e0d\U00007b49\U00004e8e0\U0000ff0c\U00005c31\U00008df32\U0000ff0c\U00007b49\U00004e8e\U000096f6 \U00004e0b\U00009762\U00004f4d\U000053cd\U00008f6c+\U00004f4d\U0000586b\U000051451
      0080AF A6 06            [ 1]  129 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      0080B1 9D               [ 1]  130 	nop
      0080B2 9D               [ 1]  131 	nop
                                    132 ;\U00005982\U0000679c\U00008fde\U00007eed\U000053d1\U00004e866\U00004f4d1\U0000ff0c\U00005219\U00009700\U00008981\U000053cd\U00008f6c\U000063d2\U00005165\U00004e00\U00004f4d
      0080B3 72 53 50 0A      [ 1]  133 	cpl	0x500A;
      0080B7 9D               [ 1]  134 	nop
      0080B8 9D               [ 1]  135 	nop
      0080B9 9D               [ 1]  136 	nop
      0080BA CC 80 BD         [ 2]  137 	jp	Tx_Bit3_0;2
      0080BD                        138 Tx_Bit3_0:
      0080BD 76               [ 1]  139 	rrc	(X)
      0080BE 25 0B            [ 1]  140 	jrc	Tx_Bit3_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1
      0080C0 72 53 50 0A      [ 1]  141 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      0080C4 A6 06            [ 1]  142 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      0080C6 9D               [ 1]  143 	nop
      0080C7 9D               [ 1]  144 	nop
      0080C8 CC 80 DE         [ 2]  145 	jp	Tx_Bit4_0; 2
      0080CB                        146 Tx_Bit3_1:
      0080CB 4A               [ 1]  147 	dec	a;\U0000524d\U00004e00\U00004f4d\U00007684\U00007b2c10\U00004e2a\U00005468\U0000671f
      0080CC 9D               [ 1]  148 	nop
      0080CD 9D               [ 1]  149 	nop
      0080CE 26 0E            [ 1]  150 	jrne	Tx_Bit4_0;a\U000051cf\U00004e86\U00004e4b\U0000540e\U00004e0d\U00007b49\U00004e8e0\U0000ff0c\U00005c31\U00008df32\U0000ff0c\U00007b49\U00004e8e\U000096f6 \U00004e0b\U00009762\U00004f4d\U000053cd\U00008f6c+\U00004f4d\U0000586b\U000051451
      0080D0 A6 06            [ 1]  151 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      0080D2 9D               [ 1]  152 	nop
      0080D3 9D               [ 1]  153 	nop
                                    154 ;\U00005982\U0000679c\U00008fde\U00007eed\U000053d1\U00004e866\U00004f4d1\U0000ff0c\U00005219\U00009700\U00008981\U000053cd\U00008f6c\U000063d2\U00005165\U00004e00\U00004f4d
      0080D4 72 53 50 0A      [ 1]  155 	cpl	0x500A;
      0080D8 9D               [ 1]  156 	nop
      0080D9 9D               [ 1]  157 	nop
      0080DA 9D               [ 1]  158 	nop
      0080DB CC 80 DE         [ 2]  159 	jp	Tx_Bit4_0;2
      0080DE                        160 Tx_Bit4_0:
      0080DE 76               [ 1]  161 	rrc	(X)
      0080DF 25 0B            [ 1]  162 	jrc	Tx_Bit4_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1
      0080E1 72 53 50 0A      [ 1]  163 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      0080E5 A6 06            [ 1]  164 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      0080E7 9D               [ 1]  165 	nop
      0080E8 9D               [ 1]  166 	nop
      0080E9 CC 80 FF         [ 2]  167 	jp	Tx_Bit5_0;
      0080EC                        168 Tx_Bit4_1:
      0080EC 4A               [ 1]  169 	dec	a;\U0000524d\U00004e00\U00004f4d\U00007684\U00007b2c10\U00004e2a\U00005468\U0000671f
      0080ED 9D               [ 1]  170 	nop
      0080EE 9D               [ 1]  171 	nop
      0080EF 26 0E            [ 1]  172 	jrne	Tx_Bit5_0;a\U000051cf\U00004e86\U00004e4b\U0000540e\U00004e0d\U00007b49\U00004e8e0\U0000ff0c\U00005c31\U00008df32\U0000ff0c\U00007b49\U00004e8e\U000096f6 \U00004e0b\U00009762\U00004f4d\U000053cd\U00008f6c+\U00004f4d\U0000586b\U000051451
      0080F1 A6 06            [ 1]  173 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      0080F3 9D               [ 1]  174 	nop
      0080F4 9D               [ 1]  175 	nop
                                    176 ;\U00005982\U0000679c\U00008fde\U00007eed\U000053d1\U00004e866\U00004f4d1\U0000ff0c\U00005219\U00009700\U00008981\U000053cd\U00008f6c\U000063d2\U00005165\U00004e00\U00004f4d
      0080F5 72 53 50 0A      [ 1]  177 	cpl	0x500A;
      0080F9 9D               [ 1]  178 	nop
      0080FA 9D               [ 1]  179 	nop
      0080FB 9D               [ 1]  180 	nop
      0080FC CC 80 FF         [ 2]  181 	jp	Tx_Bit5_0;2
      0080FF                        182 Tx_Bit5_0:
      0080FF 76               [ 1]  183 	rrc	(X)
      008100 25 0A            [ 1]  184 	jrc	Tx_Bit5_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1
      008102 72 53 50 0A      [ 1]  185 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      008106 A6 06            [ 1]  186 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008108 76               [ 1]  187 	rrc	(X)
      008109 CC 81 1E         [ 2]  188 	jp	Tx_Bit6_0; 2
      00810C                        189 Tx_Bit5_1:
      00810C 76               [ 1]  190 	rrc	(X) ;10实际上是第六位的位移
      00810D 4A               [ 1]  191 	dec	a;\U0000524d\U00004e00\U00004f4d\U00007684\U00007b2c10\U00004e2a\U00005468\U0000671f
      00810E 26 0E            [ 1]  192 	jrne	Tx_Bit6_0;a\U000051cf\U00004e86\U00004e4b\U0000540e\U00004e0d\U00007b49\U00004e8e0\U0000ff0c\U00005c31\U00008df32\U0000ff0c\U00007b49\U00004e8e\U000096f6 \U00004e0b\U00009762\U00004f4d\U000053cd\U00008f6c+\U00004f4d\U0000586b\U000051451
      008110 A6 06            [ 1]  193 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008112 9D               [ 1]  194 	nop
      008113 9D               [ 1]  195 	nop
      008114 8A               [ 1]  196 	push	CC
                                    197 ;\U00005982\U0000679c\U00008fde\U00007eed\U000053d1\U00004e866\U00004f4d1\U0000ff0c\U00005219\U00009700\U00008981\U000053cd\U00008f6c\U000063d2\U00005165\U00004e00\U00004f4d
      008115 72 53 50 0A      [ 1]  198 	cpl	0x500A;
      008119 86               [ 1]  199 	pop	CC
      00811A 9D               [ 1]  200 	nop
      00811B CC 81 1E         [ 2]  201 	jp	Tx_Bit6_0;2
      00811E                        202 Tx_Bit6_0:
      00811E 25 0A            [ 1]  203 	jrc	Tx_Bit6_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1 6/14
      008120 A6 06            [ 1]  204 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008122 9D               [ 1]  205 	nop
      008123 72 53 50 0A      [ 1]  206 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      008127 CC 81 3C         [ 2]  207 	jp	Tx_Bit7_0; 2
      00812A                        208 Tx_Bit6_1:
      00812A 4A               [ 1]  209 	dec	a;\U0000524d\U00004e00\U00004f4d\U00007684\U00007b2c8\U00004e2a\U00005468\U0000671f
      00812B 9D               [ 1]  210 	nop
      00812C 26 0E            [ 1]  211 	jrne	Tx_Bit7_0;
      00812E A6 06            [ 1]  212 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008130 9D               [ 1]  213 	nop
      008131 9D               [ 1]  214 	nop
      008132 9D               [ 1]  215 	nop
      008133 9D               [ 1]  216 	nop
      008134 9D               [ 1]  217 	nop
      008135 72 53 50 0A      [ 1]  218 	cpl	0x500A;\U00005b9e\U00009645\U00004e0a\U00005c31\U0000662f7_0
      008139 CC 81 3C         [ 2]  219 	jp	Tx_Bit7_0;2
      00813C                        220 Tx_Bit7_0:
      00813C 76               [ 1]  221 	rrc	(X) ;4/12
      00813D 5C               [ 1]  222 	incw	X;ptxbuf+1
      00813E 25 10            [ 1]  223 	jrc	Tx_Bit7_1;\U00004e0d\U00007ffb\U00008f6c\U00007535\U00005e73 j2 nj1
      008140 9D               [ 1]  224 	nop
      008141 72 53 50 0A      [ 1]  225 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      008145 A6 06            [ 1]  226 	ld	A,#6;\U0000590d\U00004f4d\U00008fde\U00007eed1\U00008ba1\U00006570 1
      008147 72 5A 00 01      [ 1]  227 	dec	_tx_buf_size;\U0000957f\U00005ea6-1
      00814B 27 24            [ 1]  228 	jreq	Tx_Eop6
      00814D CC 80 5A         [ 2]  229 	jp	Tx_Bit0_0
      008150                        230 Tx_Bit7_1:
      008150 4A               [ 1]  231 	dec	a;9/17
      008151 27 09            [ 1]  232 	jreq	Tx_7_1_Flip
                                    233 ;\U00004e0d\U00007528\U00007ffb\U00008f6c\U00007684\U000060c5\U000051b5
      008153 72 5A 00 01      [ 1]  234 	dec	_tx_buf_size;11
      008157 27 18            [ 1]  235 	jreq	Tx_Eop6;\U00005982\U0000679c\U000053d1\U00005b8c\U00004e86\U0000ff0c\U000053bb\U00007ed3\U0000675f\U00006d41\U00007a0b
      008159 CC 80 5A         [ 2]  236 	jp	Tx_Bit0_0;\U00006ca1\U000053d1\U00005b8c\U0000ff0c\U00007ee7\U00007eed
                                    237 ;\U00005904\U00007406\U00007535\U00005e73\U000053cd\U00008f6c
      00815C                        238 Tx_7_1_Flip:
      00815C A6 06            [ 1]  239 	ld	A,#6;12
      00815E 9D               [ 1]  240 	nop
      00815F 9D               [ 1]  241 	nop
      008160 9D               [ 1]  242 	nop
      008161 9D               [ 1]  243 	nop
      008162 72 53 50 0A      [ 1]  244 	cpl	0x500A;\U00007ffb\U00008f6c\U00008f93\U000051fa 1
      008166 72 5A 00 01      [ 1]  245 	dec	_tx_buf_size;\U0000957f\U00005ea6-1
      00816A 27 04            [ 1]  246 	jreq	Tx_Eop5;\U00005982\U0000679c\U000053d1\U00005b8c\U00004e86\U0000ff0c\U000053bb\U00007ed3\U0000675f\U00006d41\U00007a0b
      00816C 9D               [ 1]  247 	nop
      00816D CC 80 5A         [ 2]  248 	jp	Tx_Bit0_0
                                    249 ;\U000053d1\U000090012bit	time\U00007684se0
                                    250 ;\U000053d1\U000090011bit	time\U00007684j
      008170                        251 Tx_Eop5:
      008170 9D               [ 1]  252 	nop
      008171                        253 Tx_Eop6:
      008171 9D               [ 1]  254 	nop
      008172 9D               [ 1]  255 	nop
      008173 9D               [ 1]  256 	nop
      008174 72 5F 50 0A      [ 1]  257 	clr	0x500A;se0
      008178 90 AE 00 03      [ 2]  258 	ldw	Y,#3;2
      00817C                        259 NOP_delay1:
      00817C 90 5A            [ 2]  260 	decw	Y
      00817E 26 FC            [ 1]  261 	jrne	NOP_delay1
      008180 9D               [ 1]  262 	nop
      008181 9D               [ 1]  263 	nop
      008182 72 1C 50 0A      [ 1]  264 	bset	0x500A,#6;pc6\U000062c9\U00009ad8\U0000ff0c\U00005230\U00008fd9\U000091cc\U00005dee\U00004e0d\U0000591a\U0000662f2bit time
      008186 32 00 0D         [ 1]  265 	pop	_usb_tx_buf+11
      008189 32 00 0C         [ 1]  266 	pop	_usb_tx_buf+10
      00818C 32 00 0B         [ 1]  267 	pop	_usb_tx_buf+9
      00818F 32 00 0A         [ 1]  268 	pop	_usb_tx_buf+8
      008192 32 00 09         [ 1]  269 	pop	_usb_tx_buf+7
      008195 32 00 08         [ 1]  270 	pop	_usb_tx_buf+6
      008198 32 00 07         [ 1]  271 	pop	_usb_tx_buf+5
      00819B 32 00 06         [ 1]  272 	pop	_usb_tx_buf+4
      00819E 32 00 05         [ 1]  273 	pop	_usb_tx_buf+3
      0081A1 32 00 04         [ 1]  274 	pop	_usb_tx_buf+2
      0081A4 32 00 03         [ 1]  275 	pop	_usb_tx_buf+1
      0081A7 32 00 02         [ 1]  276 	pop	_usb_tx_buf+0
      0081AA 32 00 01         [ 1]  277 	pop	_tx_buf_size
                                    278 ;	usb_tx.c: 270: }
      0081AD 81               [ 4]  279 	ret
                                    280 	.area CODE
                                    281 	.area CONST
                                    282 	.area INITIALIZER
                                    283 	.area CABS (ABS)
