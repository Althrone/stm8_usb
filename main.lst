                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.4.0 #14620 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	.optsdcc -mstm8
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _usb_tx
                                     13 	.globl _GPIO_WriteLow
                                     14 	.globl _GPIO_Init
                                     15 ;--------------------------------------------------------
                                     16 ; ram data
                                     17 ;--------------------------------------------------------
                                     18 	.area DATA
                                     19 ;--------------------------------------------------------
                                     20 ; ram data
                                     21 ;--------------------------------------------------------
                                     22 	.area INITIALIZED
                                     23 ;--------------------------------------------------------
                                     24 ; Stack segment in internal ram
                                     25 ;--------------------------------------------------------
                                     26 	.area SSEG
      000000                         27 __start__stack:
      000000                         28 	.ds	1
                                     29 
                                     30 ;--------------------------------------------------------
                                     31 ; absolute external ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area DABS (ABS)
                                     34 
                                     35 ; default segment ordering for linker
                                     36 	.area HOME
                                     37 	.area GSINIT
                                     38 	.area GSFINAL
                                     39 	.area CONST
                                     40 	.area INITIALIZER
                                     41 	.area CODE
                                     42 
                                     43 ;--------------------------------------------------------
                                     44 ; interrupt vector
                                     45 ;--------------------------------------------------------
                                     46 	.area HOME
      000000                         47 __interrupt_vect:
      000000 82v00u00u00             48 	int s_GSINIT ; reset
                                     49 ;--------------------------------------------------------
                                     50 ; global & static initialisations
                                     51 ;--------------------------------------------------------
                                     52 	.area HOME
                                     53 	.area GSINIT
                                     54 	.area GSFINAL
                                     55 	.area GSINIT
      000000 CDr00r00         [ 4]   56 	call	___sdcc_external_startup
      000003 4D               [ 1]   57 	tnz	a
      000004 27 03            [ 1]   58 	jreq	__sdcc_init_data
      000006 CCr00r04         [ 2]   59 	jp	__sdcc_program_startup
      000009                         60 __sdcc_init_data:
                                     61 ; stm8_genXINIT() start
      000009 AEr00r00         [ 2]   62 	ldw x, #l_DATA
      00000C 27 07            [ 1]   63 	jreq	00002$
      00000E                         64 00001$:
      00000E 72 4FuFFuFF      [ 1]   65 	clr (s_DATA - 1, x)
      000012 5A               [ 2]   66 	decw x
      000013 26 F9            [ 1]   67 	jrne	00001$
      000015                         68 00002$:
      000015 AEr00r00         [ 2]   69 	ldw	x, #l_INITIALIZER
      000018 27 09            [ 1]   70 	jreq	00004$
      00001A                         71 00003$:
      00001A D6uFFuFF         [ 1]   72 	ld	a, (s_INITIALIZER - 1, x)
      00001D D7uFFuFF         [ 1]   73 	ld	(s_INITIALIZED - 1, x), a
      000020 5A               [ 2]   74 	decw	x
      000021 26 F7            [ 1]   75 	jrne	00003$
      000023                         76 00004$:
                                     77 ; stm8_genXINIT() end
                                     78 	.area GSFINAL
      000000 CCr00r04         [ 2]   79 	jp	__sdcc_program_startup
                                     80 ;--------------------------------------------------------
                                     81 ; Home
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME
                                     84 	.area HOME
      000004                         85 __sdcc_program_startup:
      000004 CCr00r00         [ 2]   86 	jp	_main
                                     87 ;	return from main will return to caller
                                     88 ;--------------------------------------------------------
                                     89 ; code
                                     90 ;--------------------------------------------------------
                                     91 	.area CODE
                           000000    92 	Smain$main$0 ==.
                                     93 ;	main.c: 4: void main(void)
                                     94 ;	-----------------------------------------
                                     95 ;	 function main
                                     96 ;	-----------------------------------------
      000000                         97 _main:
                           000000    98 	Smain$main$1 ==.
                           000000    99 	Smain$main$2 ==.
                                    100 ;	main.c: 6: GPIO_Init(GPIOC,GPIO_PIN_7,GPIO_MODE_OUT_PP_LOW_FAST);
      000000 4B E0            [ 1]  101 	push	#0xe0
                           000002   102 	Smain$main$3 ==.
      000002 A6 80            [ 1]  103 	ld	a, #0x80
      000004 AE 50 0A         [ 2]  104 	ldw	x, #0x500a
      000007 CDr00r00         [ 4]  105 	call	_GPIO_Init
                           00000A   106 	Smain$main$4 ==.
                           00000A   107 	Smain$main$5 ==.
                                    108 ;	main.c: 7: GPIO_Init(GPIOC,GPIO_PIN_6,GPIO_MODE_OUT_PP_LOW_FAST);
      00000A 4B E0            [ 1]  109 	push	#0xe0
                           00000C   110 	Smain$main$6 ==.
      00000C A6 40            [ 1]  111 	ld	a, #0x40
      00000E AE 50 0A         [ 2]  112 	ldw	x, #0x500a
      000011 CDr00r00         [ 4]  113 	call	_GPIO_Init
                           000014   114 	Smain$main$7 ==.
                           000014   115 	Smain$main$8 ==.
                                    116 ;	main.c: 8: GPIO_Init(GPIOD,GPIO_PIN_3,GPIO_MODE_OUT_PP_LOW_FAST);
      000014 4B E0            [ 1]  117 	push	#0xe0
                           000016   118 	Smain$main$9 ==.
      000016 A6 08            [ 1]  119 	ld	a, #0x08
      000018 AE 50 0F         [ 2]  120 	ldw	x, #0x500f
      00001B CDr00r00         [ 4]  121 	call	_GPIO_Init
                           00001E   122 	Smain$main$10 ==.
                           00001E   123 	Smain$main$11 ==.
                                    124 ;	main.c: 9: GPIO_WriteLow(GPIOD,GPIO_PIN_3);//595的输出线拉低
      00001E A6 08            [ 1]  125 	ld	a, #0x08
      000020 AE 50 0F         [ 2]  126 	ldw	x, #0x500f
      000023 CDr00r00         [ 4]  127 	call	_GPIO_WriteLow
                           000026   128 	Smain$main$12 ==.
                                    129 ;	main.c: 11: while (1)
      000026                        130 00102$:
                           000026   131 	Smain$main$13 ==.
                           000026   132 	Smain$main$14 ==.
                                    133 ;	main.c: 13: usb_tx();
      000026 CDr00r00         [ 4]  134 	call	_usb_tx
                           000029   135 	Smain$main$15 ==.
      000029 20 FB            [ 2]  136 	jra	00102$
                           00002B   137 	Smain$main$16 ==.
                                    138 ;	main.c: 15: }
                           00002B   139 	Smain$main$17 ==.
                           00002B   140 	XG$main$0$0 ==.
      00002B 81               [ 4]  141 	ret
                           00002C   142 	Smain$main$18 ==.
                                    143 	.area CODE
                                    144 	.area CONST
                                    145 	.area INITIALIZER
                                    146 	.area CABS (ABS)
                                    147 
                                    148 	.area .debug_line (NOLOAD)
      000000 00 00 00 D0            149 	.dw	0,Ldebug_line_end-Ldebug_line_start
      000004                        150 Ldebug_line_start:
      000004 00 02                  151 	.dw	2
      000006 00 00 00 74            152 	.dw	0,Ldebug_line_stmt-6-Ldebug_line_start
      00000A 01                     153 	.db	1
      00000B 01                     154 	.db	1
      00000C FB                     155 	.db	-5
      00000D 0F                     156 	.db	15
      00000E 0A                     157 	.db	10
      00000F 00                     158 	.db	0
      000010 01                     159 	.db	1
      000011 01                     160 	.db	1
      000012 01                     161 	.db	1
      000013 01                     162 	.db	1
      000014 00                     163 	.db	0
      000015 00                     164 	.db	0
      000016 00                     165 	.db	0
      000017 01                     166 	.db	1
      000018 44 3A 5C 5C 53 6F 66   167 	.ascii "D:\\Software\\Work\\SDCC\\bin\\..\\include\\stm8"
             74 77 61 72 65 5C 5C
             57 6F 72 6B 5C 5C 53
             44 43 43 5C 08 69 6E
             5C 5C 2E 2E 5C 5C 69
             6E 63 6C 75 64 65 5C
             5C 73 74 6D 38
      000047 00                     168 	.db	0
      000048 44 3A 5C 5C 53 6F 66   169 	.ascii "D:\\Software\\Work\\SDCC\\bin\\..\\include"
             74 77 61 72 65 5C 5C
             57 6F 72 6B 5C 5C 53
             44 43 43 5C 08 69 6E
             5C 5C 2E 2E 5C 5C 69
             6E 63 6C 75 64 65
      000071 00                     170 	.db	0
      000072 00                     171 	.db	0
      000073 6D 61 69 6E 2E 63      172 	.ascii "main.c"
      000079 00                     173 	.db	0
      00007A 00                     174 	.uleb128	0
      00007B 00                     175 	.uleb128	0
      00007C 00                     176 	.uleb128	0
      00007D 00                     177 	.db	0
      00007E                        178 Ldebug_line_stmt:
      00007E 00                     179 	.db	0
      00007F 05                     180 	.uleb128	5
      000080 02                     181 	.db	2
      000081 00 00r00r00            182 	.dw	0,(Smain$main$0)
      000085 03                     183 	.db	3
      000086 03                     184 	.sleb128	3
      000087 01                     185 	.db	1
      000088 00                     186 	.db	0
      000089 05                     187 	.uleb128	5
      00008A 02                     188 	.db	2
      00008B 00 00r00r00            189 	.dw	0,(Smain$main$2)
      00008F 03                     190 	.db	3
      000090 02                     191 	.sleb128	2
      000091 01                     192 	.db	1
      000092 00                     193 	.db	0
      000093 05                     194 	.uleb128	5
      000094 02                     195 	.db	2
      000095 00 00r00r0A            196 	.dw	0,(Smain$main$5)
      000099 03                     197 	.db	3
      00009A 01                     198 	.sleb128	1
      00009B 01                     199 	.db	1
      00009C 00                     200 	.db	0
      00009D 05                     201 	.uleb128	5
      00009E 02                     202 	.db	2
      00009F 00 00r00r14            203 	.dw	0,(Smain$main$8)
      0000A3 03                     204 	.db	3
      0000A4 01                     205 	.sleb128	1
      0000A5 01                     206 	.db	1
      0000A6 00                     207 	.db	0
      0000A7 05                     208 	.uleb128	5
      0000A8 02                     209 	.db	2
      0000A9 00 00r00r1E            210 	.dw	0,(Smain$main$11)
      0000AD 03                     211 	.db	3
      0000AE 01                     212 	.sleb128	1
      0000AF 01                     213 	.db	1
      0000B0 00                     214 	.db	0
      0000B1 05                     215 	.uleb128	5
      0000B2 02                     216 	.db	2
      0000B3 00 00r00r26            217 	.dw	0,(Smain$main$12)
      0000B7 03                     218 	.db	3
      0000B8 02                     219 	.sleb128	2
      0000B9 01                     220 	.db	1
      0000BA 00                     221 	.db	0
      0000BB 05                     222 	.uleb128	5
      0000BC 02                     223 	.db	2
      0000BD 00 00r00r26            224 	.dw	0,(Smain$main$14)
      0000C1 03                     225 	.db	3
      0000C2 02                     226 	.sleb128	2
      0000C3 01                     227 	.db	1
      0000C4 00                     228 	.db	0
      0000C5 05                     229 	.uleb128	5
      0000C6 02                     230 	.db	2
      0000C7 00 00r00r2B            231 	.dw	0,(Smain$main$16)
      0000CB 03                     232 	.db	3
      0000CC 02                     233 	.sleb128	2
      0000CD 01                     234 	.db	1
      0000CE 09                     235 	.db	9
      0000CF 00 01                  236 	.dw	1+Smain$main$17-Smain$main$16
      0000D1 00                     237 	.db	0
      0000D2 01                     238 	.uleb128	1
      0000D3 01                     239 	.db	1
      0000D4                        240 Ldebug_line_end:
                                    241 
                                    242 	.area .debug_loc (NOLOAD)
      000000                        243 Ldebug_loc_start:
      000000 00 00r00r1E            244 	.dw	0,(Smain$main$10)
      000004 00 00r00r2C            245 	.dw	0,(Smain$main$18)
      000008 00 02                  246 	.dw	2
      00000A 78                     247 	.db	120
      00000B 01                     248 	.sleb128	1
      00000C 00 00r00r16            249 	.dw	0,(Smain$main$9)
      000010 00 00r00r1E            250 	.dw	0,(Smain$main$10)
      000014 00 02                  251 	.dw	2
      000016 78                     252 	.db	120
      000017 02                     253 	.sleb128	2
      000018 00 00r00r14            254 	.dw	0,(Smain$main$7)
      00001C 00 00r00r16            255 	.dw	0,(Smain$main$9)
      000020 00 02                  256 	.dw	2
      000022 78                     257 	.db	120
      000023 01                     258 	.sleb128	1
      000024 00 00r00r0C            259 	.dw	0,(Smain$main$6)
      000028 00 00r00r14            260 	.dw	0,(Smain$main$7)
      00002C 00 02                  261 	.dw	2
      00002E 78                     262 	.db	120
      00002F 02                     263 	.sleb128	2
      000030 00 00r00r0A            264 	.dw	0,(Smain$main$4)
      000034 00 00r00r0C            265 	.dw	0,(Smain$main$6)
      000038 00 02                  266 	.dw	2
      00003A 78                     267 	.db	120
      00003B 01                     268 	.sleb128	1
      00003C 00 00r00r02            269 	.dw	0,(Smain$main$3)
      000040 00 00r00r0A            270 	.dw	0,(Smain$main$4)
      000044 00 02                  271 	.dw	2
      000046 78                     272 	.db	120
      000047 02                     273 	.sleb128	2
      000048 00 00r00r00            274 	.dw	0,(Smain$main$1)
      00004C 00 00r00r02            275 	.dw	0,(Smain$main$3)
      000050 00 02                  276 	.dw	2
      000052 78                     277 	.db	120
      000053 01                     278 	.sleb128	1
      000054 00 00 00 00            279 	.dw	0,0
      000058 00 00 00 00            280 	.dw	0,0
                                    281 
                                    282 	.area .debug_abbrev (NOLOAD)
      000000                        283 Ldebug_abbrev:
      000000 01                     284 	.uleb128	1
      000001 11                     285 	.uleb128	17
      000002 01                     286 	.db	1
      000003 03                     287 	.uleb128	3
      000004 08                     288 	.uleb128	8
      000005 10                     289 	.uleb128	16
      000006 06                     290 	.uleb128	6
      000007 13                     291 	.uleb128	19
      000008 0B                     292 	.uleb128	11
      000009 25                     293 	.uleb128	37
      00000A 08                     294 	.uleb128	8
      00000B 00                     295 	.uleb128	0
      00000C 00                     296 	.uleb128	0
      00000D 02                     297 	.uleb128	2
      00000E 2E                     298 	.uleb128	46
      00000F 01                     299 	.db	1
      000010 03                     300 	.uleb128	3
      000011 08                     301 	.uleb128	8
      000012 11                     302 	.uleb128	17
      000013 01                     303 	.uleb128	1
      000014 12                     304 	.uleb128	18
      000015 01                     305 	.uleb128	1
      000016 3F                     306 	.uleb128	63
      000017 0C                     307 	.uleb128	12
      000018 40                     308 	.uleb128	64
      000019 06                     309 	.uleb128	6
      00001A 00                     310 	.uleb128	0
      00001B 00                     311 	.uleb128	0
      00001C 03                     312 	.uleb128	3
      00001D 0B                     313 	.uleb128	11
      00001E 00                     314 	.db	0
      00001F 11                     315 	.uleb128	17
      000020 01                     316 	.uleb128	1
      000021 12                     317 	.uleb128	18
      000022 01                     318 	.uleb128	1
      000023 00                     319 	.uleb128	0
      000024 00                     320 	.uleb128	0
      000025 00                     321 	.uleb128	0
                                    322 
                                    323 	.area .debug_info (NOLOAD)
      000000 00 00 00 4C            324 	.dw	0,Ldebug_info_end-Ldebug_info_start
      000004                        325 Ldebug_info_start:
      000004 00 02                  326 	.dw	2
      000006 00 00r00r00            327 	.dw	0,(Ldebug_abbrev)
      00000A 04                     328 	.db	4
      00000B 01                     329 	.uleb128	1
      00000C 6D 61 69 6E 2E 63      330 	.ascii "main.c"
      000012 00                     331 	.db	0
      000013 00 00r00r00            332 	.dw	0,(Ldebug_line_start+-4)
      000017 01                     333 	.db	1
      000018 53 44 43 43 20 76 65   334 	.ascii "SDCC version 4.4.0 #14620"
             72 73 69 6F 6E 20 34
             2E 34 2E 30 20 23 31
             34 36 32 30
      000031 00                     335 	.db	0
      000032 02                     336 	.uleb128	2
      000033 6D 61 69 6E            337 	.ascii "main"
      000037 00                     338 	.db	0
      000038 00 00r00r00            339 	.dw	0,(_main)
      00003C 00 00r00r2C            340 	.dw	0,(XG$main$0$0+1)
      000040 01                     341 	.db	1
      000041 00 00r00r00            342 	.dw	0,(Ldebug_loc_start)
      000045 03                     343 	.uleb128	3
      000046 00 00r00r26            344 	.dw	0,(Smain$main$13)
      00004A 00 00r00r29            345 	.dw	0,(Smain$main$15)
      00004E 00                     346 	.uleb128	0
      00004F 00                     347 	.uleb128	0
      000050                        348 Ldebug_info_end:
                                    349 
                                    350 	.area .debug_pubnames (NOLOAD)
      000000 00 00 00 17            351 	.dw	0,Ldebug_pubnames_end-Ldebug_pubnames_start
      000004                        352 Ldebug_pubnames_start:
      000004 00 02                  353 	.dw	2
      000006 00 00r00r00            354 	.dw	0,(Ldebug_info_start-4)
      00000A 00 00 00 50            355 	.dw	0,4+Ldebug_info_end-Ldebug_info_start
      00000E 00 00 00 32            356 	.dw	0,50
      000012 6D 61 69 6E            357 	.ascii "main"
      000016 00                     358 	.db	0
      000017 00 00 00 00            359 	.dw	0,0
      00001B                        360 Ldebug_pubnames_end:
                                    361 
                                    362 	.area .debug_frame (NOLOAD)
      000000 00 00                  363 	.dw	0
      000002 00 10                  364 	.dw	Ldebug_CIE0_end-Ldebug_CIE0_start
      000004                        365 Ldebug_CIE0_start:
      000004 FF FF                  366 	.dw	0xffff
      000006 FF FF                  367 	.dw	0xffff
      000008 01                     368 	.db	1
      000009 00                     369 	.db	0
      00000A 01                     370 	.uleb128	1
      00000B 7F                     371 	.sleb128	-1
      00000C 09                     372 	.db	9
      00000D 0C                     373 	.db	12
      00000E 08                     374 	.uleb128	8
      00000F 02                     375 	.uleb128	2
      000010 89                     376 	.db	137
      000011 01                     377 	.uleb128	1
      000012 00                     378 	.db	0
      000013 00                     379 	.db	0
      000014                        380 Ldebug_CIE0_end:
      000014 00 00 00 40            381 	.dw	0,64
      000018 00 00r00r00            382 	.dw	0,(Ldebug_CIE0_start-4)
      00001C 00 00r00r00            383 	.dw	0,(Smain$main$1)	;initial loc
      000020 00 00 00 2C            384 	.dw	0,Smain$main$18-Smain$main$1
      000024 01                     385 	.db	1
      000025 00 00r00r00            386 	.dw	0,(Smain$main$1)
      000029 0E                     387 	.db	14
      00002A 02                     388 	.uleb128	2
      00002B 01                     389 	.db	1
      00002C 00 00r00r02            390 	.dw	0,(Smain$main$3)
      000030 0E                     391 	.db	14
      000031 03                     392 	.uleb128	3
      000032 01                     393 	.db	1
      000033 00 00r00r0A            394 	.dw	0,(Smain$main$4)
      000037 0E                     395 	.db	14
      000038 02                     396 	.uleb128	2
      000039 01                     397 	.db	1
      00003A 00 00r00r0C            398 	.dw	0,(Smain$main$6)
      00003E 0E                     399 	.db	14
      00003F 03                     400 	.uleb128	3
      000040 01                     401 	.db	1
      000041 00 00r00r14            402 	.dw	0,(Smain$main$7)
      000045 0E                     403 	.db	14
      000046 02                     404 	.uleb128	2
      000047 01                     405 	.db	1
      000048 00 00r00r16            406 	.dw	0,(Smain$main$9)
      00004C 0E                     407 	.db	14
      00004D 03                     408 	.uleb128	3
      00004E 01                     409 	.db	1
      00004F 00 00r00r1E            410 	.dw	0,(Smain$main$10)
      000053 0E                     411 	.db	14
      000054 02                     412 	.uleb128	2
      000055 00                     413 	.db	0
      000056 00                     414 	.db	0
      000057 00                     415 	.db	0
